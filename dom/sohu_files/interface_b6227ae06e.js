kola("newt.net.interface.Footprint",["jquery.Core","newt.net.NetCommon"],function(b,c){var a={URL:{FIRST_TIP_DONE:"/settings/private/noMoreRemindOfPrivacySetting",GET_FOOTPAINT:"/settings/private/reloadVisitorList"},firstTipDone:function(d){d=d?d:{};d._ajax=d._ajax?d._ajax:{};b.extend(d._ajax,{url:a.URL.FIRST_TIP_DONE,data:"type="+(d.global?"global":"partial"),type:"post",dataType:"json"});c.request(d._ajax)},getFootprint:function(d){d=d?d:{};d._ajax=d._ajax?d._ajax:{};b.extend(d._ajax,{url:a.URL.GET_FOOTPAINT,type:"post",dataType:"json",data:"num="+d.num+"&uid="+d.uid+"&exclUid="+(d.excepts?d.excepts.join(","):"")});c.request(d._ajax)}};return a});kola("newt.net.interface.Friend",["jquery.Core","newt.net.NetCommon"],function(b,c){var a={URL:{RECOMMEND_GUESS_LIST:"/user/recommend/get",RECOMMEND_GUESS_DEL:"/user/recommend/del",RECOMMEND_HOT_LIST:"/user/recommend/getHotlist"},getGuessList:function(d){d=d?d:{};d._ajax=d._ajax?d._ajax:{};b.extend(d._ajax,{url:a.URL.RECOMMEND_GUESS_LIST,data:"",type:"get",dataType:"json"});c.request(d._ajax)},delGuessList:function(d){d=d?d:{};d._ajax=d._ajax?d._ajax:{};var e=(d.uid?("uid="+d.uid):"");b.extend(d._ajax,{url:a.URL.RECOMMEND_GUESS_DEL,data:e,type:"post",dataType:"json"});c.request(d._ajax)},getHostList:function(d){d=d?d:{};d._ajax=d._ajax?d._ajax:{};b.extend(d._ajax,{url:a.URL.RECOMMEND_HOT_LIST,data:"",type:"get",dataType:"json"});c.request(d._ajax)}};return a});kola("newt.net.interface.RealNameValidator",["jquery.Core","newt.net.NetCommon","newt.data.Synchronizer"],function(c,d,b){var a={URL:{VALID_PHONENUMBER:"/settings/verification/sendVerificationCode",CHECK_VALIDCODE:"/settings/verification/verifyMobileNumber"},validPhoneNumber:function(e){e=e?e:{};e._ajax=e._ajax?e._ajax:{};c.extend(e._ajax,{url:a.URL.VALID_PHONENUMBER,data:"mobileNumber="+e.phoneNumber,type:"post",dataType:"json"});d.request(e._ajax)},checkValidCode:function(e){e=e?e:{};e._ajax=e._ajax?e._ajax:{};var f=e._ajax.success;e._ajax.success=function(g){if(f){f(g)}if(g.status==0){b.save("verify_phone_done",true)}};c.extend(e._ajax,{url:a.URL.CHECK_VALIDCODE,data:"verificationCode="+e.validCode+"&mobileNumber="+e.phoneNumber,type:"post",dataType:"json"});d.request(e._ajax)}};return a});kola("newt.net.interface.Settings",["jquery.Core","newt.net.NetCommon"],function(b,c){var a={URL:{CLOSE_ANTI_ANNOYING:"/settings/notification/noMoreRemindOfAntiAnnoyingSetting",BIND_MYSOHU_BIND:"/settings/bindMySohu/bind",BIND_MYSOHU_UNBIND:"/settings/bindMySohu/cancel"},firstTipDoneAntiAnnoying:function(d){d=d?d:{};d._ajax=d._ajax?d._ajax:{};b.extend(d._ajax,{url:a.URL.CLOSE_ANTI_ANNOYING,data:"",type:"post",dataType:"json"});c.request(d._ajax)},bindMySohu:function(d){d=d?d:{};d._ajax=d._ajax?d._ajax:{};if(!d.param){d.param=""}b.extend(d._ajax,{url:a.URL.BIND_MYSOHU_BIND,data:d.param,type:"post",dataType:"json"});c.request(d._ajax)},unbindMySohu:function(d){d=d?d:{};d._ajax=d._ajax?d._ajax:{};if(!d.param){d.param=""}b.extend(d._ajax,{url:a.URL.BIND_MYSOHU_UNBIND,data:d.param,type:"post",dataType:"json"});c.request(d._ajax)}};return a});kola("newt.net.interface.sohutexp",["jquery.Core","newt.net.NetCommon"],function(b,c){var a={URL:{SAVE_USER_OPERATION:"/preExpr/saveBefrReg"},OPERATION:{FOLLOW:"follow",CANCEL_FOLLOW:"cancelFollow",FAVORITE:"favorite",ACTIVE_REWRITE:"activeRewrite"},saveFollows:function(d){if(!d||isNaN(d.followsId)){return}b.extend(d,{url:a.URL.SAVE_USER_OPERATION,type:"post",dataType:"json",data:{act:a.OPERATION.FOLLOW,uid:d.followsId,preExperiencePage:d.expPageType||window.expPageType}});c.request(d)},saveCancelFollows:function(d){if(!d||isNaN(d.followsId)){return}b.extend(d,{url:a.URL.SAVE_USER_OPERATION,type:"post",data:{act:a.OPERATION.CANCEL_FOLLOW,uid:d.followsId,preExperiencePage:d.expPageType||window.expPageType}});c.request(d)},saveFavorite:function(d){if(!d||isNaN(d.msgid)){return}b.extend(d,{url:a.URL.SAVE_USER_OPERATION,type:"post",dataType:"json",data:{act:a.OPERATION.FAVORITE,msgid:d.msgid,preExperiencePage:d.expPageType||window.expPageType}});c.request(d)},saveRewrite:function(d){if(!d||isNaN(d.msgid)){return}b.extend(d,{url:a.URL.SAVE_USER_OPERATION,type:"post",dataType:"json",data:{act:a.OPERATION.ACTIVE_REWRITE,value:d.id,location:d.expPageType||window.expPageType}});c.request(d)}};return a});kola("newt.net.interface.user",["jquery.Core","newt.net.NetCommon","newt.data.Base64","kola.bom.Cookie"],function(b,d,c,a){var e={URL:{REGISTER:"/regist/newSohuRegist",VALID_EMAIL:"/regist/checkMail",VALID_NICKNAME:"/regist/checkNickName",GET_VALIDCODE_SEED:"/regist/getCaptchaSeed",GET_VALIDCODE_IMG:"/regist/getCaptchaIMGNumIE6",VALID_VALIDCODE:"/regist/checkCaptcha",REQUIRE_VALIDCODE:"/regist/firstRegist",RESEND_ACTIVEMAIL:"/regist/resendMail",CHECK_ACCOUNTSTATE:"/regist/checkAccountState",CLEAN_MY_FOOTPRINT:"/settings/private/clearMyFootPrint",GET_ACCOUNTS:"/settings/verification/getAllVerificatedUsers",ADD_ACCOUNT:"/settings/accountConnection/addAccountConnetion",VALID_ACCOUNT_CONNECT:"/settings/accountConnection/verifyAnotherAccount",DEL_ACCOUNT:"/settings/accountConnection/deleteAccountConnetion",SWITCH_ACCOUNT:"/settings/accountConnection/changeCurrentAccount"},COOKIE_NAME:{LAST_DOMAIN:"lastdomain"},EVENT_NAME:{ADD_ACCOUNT:"newt.net.interface.user:event:add_account"},resendActiveMail:function(f){f=f?f:{};b.extend(f,{url:e.URL.RESEND_ACTIVEMAIL,type:"post",data:{mail:f.email},dataType:"json",noIntercept:true});d.request(f)},logout:function(){var g=top.window.location.host;var f="http://t.sohu.com/";if(g.indexOf(".chinaren.com")>-1){f="http://t.chinaren.com/index.jsp?logout=1"}top.document.location="http://passport.sohu.com/sso/logout_js.jsp?ru="+f},checkAccountState:function(f){f=f?f:{};b.extend(f,{url:e.URL.CHECK_ACCOUNTSTATE,type:"post",data:{mail:f.email},dataType:"json",noIntercept:true});d.request(f)},register:function(f,g){g=g?g:{};b.extend(g,{url:e.URL.REGISTER,type:"post",data:f,dataType:"json",noIntercept:true});d.request(g)},requiredValidCode:function(f){f=f?f:{};b.extend(f,{url:e.URL.REQUIRE_VALIDCODE,type:"post",dataType:"json",noIntercept:true});d.request(f)},getAccounts:function(f){f=f?f:{};f._ajax=f._ajax?f._ajax:{};b.extend(f._ajax,{url:e.URL.GET_ACCOUNTS,type:"post",dataType:"json"});d.request(f._ajax)},switchAccount:function(f){f=f?f:{};f._ajax=f._ajax?f._ajax:{};b.extend(f._ajax,{url:e.URL.SWITCH_ACCOUNT,data:"uid="+f.targetUID+"&url="+location.pathname+location.search,type:"post",dataType:"json",success:function(g){if(g.status==0){location.href=g.data}else{kola("newt.dialog.Notice",function(){tw.notice.alert(g.statusText)})}}});d.request(f._ajax)},delAccount:function(f){f=f?f:{};f._ajax=f._ajax?f._ajax:{};var g=f._ajax.success;f._ajax.success=function(h){if(h.status==0){kola("newt.data.Synchronizer",function(i){i.save("account_connect_count",h.data.accountQuantity)})}if(g){g.apply(this,arguments)}};b.extend(f._ajax,{url:e.URL.DEL_ACCOUNT,data:"uid="+f.targetUID,type:"post",dataType:"json"});d.request(f._ajax)},addAccount:function(f){f=f?f:{};f._ajax=f._ajax?f._ajax:{};var g=f._ajax.success;f._ajax.success=function(h){if(h.status==0){kola("newt.data.Synchronizer",function(i){i.save("account_connect_count",h.data.accountQuantity)})}if(g){g.apply(this,arguments)}};b.extend(f._ajax,{url:e.URL.ADD_ACCOUNT,data:"currentPassword="+f.password+"&anotherAccount="+f.newAccount+"&anotherPassword="+f.newAccountPassword,type:"post",dataType:"json"});d.request(f._ajax)},validAccountConnect:function(f){f=f?f:{};f._ajax=f._ajax?f._ajax:{};b.extend(f._ajax,{url:e.URL.VALID_ACCOUNT_CONNECT,data:"currentPassword="+f.password+"&anotherAccount="+f.newAccount+"&anotherPassword="+f.newAccountPassword,type:"post",dataType:"json"});d.request(f._ajax)},getLastDomain:function(){var f=a.get(e.COOKIE_NAME.LAST_DOMAIN);if(f){f=f.split("|");return{lastLogin:f[0],domainList:c.decodeBase64ToUtf8(f[1]).split("|")}}return null},cleanMyFootprint:function(f){f=f?f:{};f._ajax=f._ajax?f._ajax:{};b.extend(f._ajax,{url:e.URL.CLEAN_MY_FOOTPRINT,type:"post",dataType:"json",data:"uid="+f.targetUID});d.request(f._ajax)},validEmail:function(g,f){f=f?f:{};b.extend(f,{url:e.URL.VALID_EMAIL,type:"post",data:"email="+g,dataType:"json",noIntercept:true});d.request(f)},flushValidCode:function(f,g){var g=g||{};var h=g.success;b.extend(g,{url:e.URL.GET_VALIDCODE_SEED,dataType:"json",type:"post",success:function(i){b(f).attr("src",e.URL.GET_VALIDCODE_IMG+"?captchaSeed="+i.data);if(h){h(i)}}});d.request(g)}};return e});kola("newt.net.interface.vote",["jquery.Core","newt.net.NetCommon"],function(d,e){var c={GET_VOTE:"/app/vote/loadJSON.jsp",DO_VOTE:"/twapp/vote/newvoting"};var b="";var a={STATE_CODE_MSG:{"-1":"请先登录!","-2":"非法用户","-3":"用户不存在","-4":"投票描述不能为空且不能多于20个字","-5":"投票结束时间不能晚于当前时间","-6":"投票可选项最多为10个","-7":"投票选项描述不能为空且不能多于20个字或者含有敏感词","-8":"服务器故障","-9":"已参加过投票","-10":"没有选择选项或超过最大选项10个","-11":"参数错误","-12":"投票为单选","-13":"holy shit~~~ 服务器出故障了！","-99":"异常错误","-14":"投票已关闭","-15":"投票已关闭","-16":"非星级用户无法创建投票"},getVote:function(g,f){f=f?f:{};d.extend(f,{url:b+c.GET_VOTE,type:f.type?f.type:"post",dataType:f.dataType?f.dataType:"json",data:"voteid="+g});e.request(f)},doVote:function(j,m,g){g=g?g:{};var k="voteid="+j;for(var h=0,f=m.length;h<f;++h){k+="&options="+m[h]}d.extend(g,{url:b+c.DO_VOTE,type:g.type?g.type:"post",dataType:g.dataType?g.dataType:"json",data:k});e.request(g)}};return a});