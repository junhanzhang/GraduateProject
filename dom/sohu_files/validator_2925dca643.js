kola("newt.tool.validator.User",["newt.ca.ca","kola.net.Ajax","newt.cr.cr","kola.lang.Function"],function(a,c,e,d){var b=function(g){var f=this;f.opts=$.extend({CA_SRC:"UserValidator"},g||{});CRTWCONFIG.CA_SRC=f.opts.CA_SRC;$.extend(f,{show:function(h,i){switch(h){case"focus":i.focusHandle();break;case"ok":i.okHandle();break;case"err":i.errHandle();break;default:i.defaultHandle()}},showTip:function(j,i,h){var m=i.ele;var l=m.find("p.frmTip b");var k=$.extend({focusHandle:function(){l.html(i.msg);m.addClass("frm_focus")},okHandle:function(){l.html(i.msg);m.addClass("frm_ok")},errHandle:function(){l.html(i.msg);m.addClass("frm_err")},defaultHandle:function(){}},h||{});m.removeClass("frm_ok").removeClass("frm_err").removeClass("frm_focus");l.html("");f.show(j,k)},checkEmail:function(j){var h={type:"ok",data:""};var j=$.trim(j);var i=/^[a-zA-Z0-9]+([a-zA-Z0-9\-\_.])*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(j==""){CA.q("tw_"+CRTWCONFIG.CA_SRC+"_email_error_blank");h.type="err";h.data="邮箱不能为空哦";return h}if(!i.test(j)){CA.q("tw_"+CRTWCONFIG.CA_SRC+"_email_error_format");h.type="err";h.data="邮箱格式有误";return h}if(j.length>64){CA.q("tw_"+CRTWCONFIG.CA_SRC+"_email_error_length");h.type="err";h.data="邮箱长度超过最大限制";return h}return h},checkPwd:function(i){var h={type:"ok",data:""};i=$.trim(i);if(!i){h.type="err";h.data="密码不能为空哦";return h}if(i.length<6||i.length>16){h.type="err";h.data="长度需要在6-16位之间";return h}return h},checkRePwd:function(j,h){var i={type:"ok",data:""};j=$.trim(j);h=$.trim(h);if(!j){i.type="";i.data="";return i}if(j!=h){i.type="err";i.data="两次输入的密码不一致";return i}return i},countPwdStrength:function(m){var h=1;m=$.trim(m);if(m.length==0){return h}if(m.length>0&&m.length<7){h=2;return h}var n=/[a-zA-Z]+/;if(n.test(m)){++h}var l=/[0-9]+/;if(l.test(m)){++h}var k="";for(var j=0;j<m.length;j++){k=m.substr(j,1);if("!@#$%^&*()_+-='\";:[{]}|.>,</?`~".indexOf(k)>=0){++h;break}}return h},checkName:function(j){var i={type:"ok",data:""};var h="";if(!j){CA.q("tw_"+CRTWCONFIG.CA_SRC+"_nick_error_blank");i.type="err";i.data="别忘了给自己起个帅气的名字";return i}if(j.length<2||j.length>12){CA.q("tw_"+CRTWCONFIG.CA_SRC+"_nick_error_length");i.type="err";i.data="昵称在2-12个字之间";return i}h=/^[a-zA-Z0-9\u4e00-\u9fa5]{2,12}$/;if(!h.test(j)){i.type="err";i.data="昵称只允许中文、字母、数字";return i}CA.q("tw_"+CRTWCONFIG.CA_SRC+"_nick_ok");return i},checkNameUnused:function(i,h){c.request("http://"+location.host+"/regist/checkNickName",{data:"nickname="+$.cr.encodeUTF(i),method:"post",succ:d.bind(h,this,i),format:"json"})},checkRealName:function(i){var h={type:"ok",data:""};i=$.trim(i);if(!i||i==""){CA.q("tw_"+CRTWCONFIG.CA_SRC+"_realName_error_blank");h.type="err";h.data="真实姓名不能为空";return h}if(i.length<2||i.length>12){CA.q("tw_"+CRTWCONFIG.CA_SRC+"_realName_error_length");h.type="err";h.data="真实姓名为2-12个字";return h}CA.q("tw_"+CRTWCONFIG.CA_SRC+"_realName_ok");return h},checkSex:function(i){var h={type:"ok",data:""};i=$.trim(i);if(!i||i==""||i==-1){h.type="err";h.data="你是美女，还是帅哥呢？"}return h},checkLocate:function(i){var h={type:"ok",data:""};if(i.province==0||i.province==""||i.province==-1){CA.q("tw_"+CRTWCONFIG.CA_SRC+"_area_error_blank");h.type="err";h.data="需要填写哦，方便我们为你推荐附近有趣的人";return h}CA.q("tw_"+CRTWCONFIG.CA_SRC+"_area_ok");return h},checkVCode:function(i){var h={type:"ok",data:""};i=$.trim(i);if(i==""){h.type="err";h.data="请填写验证码"}else{if(i.length!=4){h.type="err";h.data="验证码错误"}}return h}})};return b});